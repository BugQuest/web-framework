<div class="media-filters">
    <label for="tagFilter">ðŸ“Œ {{ __('Filtrer par tag', 'media', 'fr') }} :</label>
    <select id="tagFilter" class="media-tag-filter">
        <option value="">â€” {{ __('Tous les tags', 'media', 'fr') }} â€”</option>
        {% for tag in tags %}
            <option value="{{ tag.id }}" {{ tag.id == current_tag ? 'selected' : '' }}>
                {{ tag.name }}
            </option>
        {% endfor %}
    </select>
</div>

<div class="media-gallery __mediaGrid">
    {% for media in medias %}
        <div class="__mediaCard" data-id="{{ media.id }}" data-tags="{{ media.tags|map(t => t.id)|join(',') }}">
            <div class="__mediaCard__Preview">
                {% if media.mime_type starts with 'image/' %}
                    <img src="/{{ media.path }}" alt="{{ media.original_name }}">
                {% else %}
                    <div class="__mediaCard__Icon">
                        {{ media.extension|upper }}
                    </div>
                {% endif %}
            </div>
            <div class="__mediaCard__meta">
                <div class="name">{{ media.original_name }}</div>
                <div class="size">{{ (media.size / 1024)|round(1) }} ko</div>
            </div>
        </div>
    {% endfor %}
</div>

{% if media_paginated.last_page > 1 %}
    <nav class="pagination __mediaPagination">
        {% for i in 1..media_paginated.last_page %}
            <a href="#"
               data-page="{{ i }}"
               class="{{ i == media_paginated.current_page ? 'active' : '' }}">
                {{ i }}
            </a>
        {% endfor %}
    </nav>
{% endif %}
